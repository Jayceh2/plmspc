<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/colorLibrary.css">
    <link rel="stylesheet" href="/css/header.css">
    <link rel="stylesheet" href="/css/styleLibrary.css">
    <link rel="stylesheet" href="/css/f-dashboard.css">
    <title>PLM Study Plan Checker</title>
</head>
<body>
    <!--HEADER-->
    <%- include ('header.ejs') %>

    <!--CONTENT-->
    <main>
        <div class="container">
            <div class="left_content">
                <h1>Dashboard</h1>
                <div class="dashboard">
                    <div class="smallInfo">
                        <h1><%= checklists.length %></h1>
                        <div>
                            <p>Subject Checklist<%= checklists.length == 1 ? '' : 's' %></p>
                            <p>for approval</p>
                        </div>
                    </div>
                    <div class="smallInfo">
                        <h1><%= studyplans.length %></h1>
                        <div>
                            <p>Study Plan<%= studyplans.length == 1 ? '' : 's' %></p>
                            <p>for approval</p>
                        </div>
                    </div>
                </div>
                
                <div class="pendingChecklist">
                    <% if (checklists.length > 0) {%>
                    <h2>Pending Subject Checklist Approval</h2>
                    <% for (let checklist of checklists) {%>
                    <div class="dashboardInfo clickable" onclick="submitData(<%= checklist.student.username %>, '/dashboard/checklist/view')">
                        <div class="profilePicCompact" data-initials-view-compact='<%= checklist.student.firstName.substring(0,1) + checklist.student.lastName.substring(0,1) %>'></div>
                        <div class="rightPerson">
                            <h3><%= checklist.student.firstName %> <%= checklist.student.middleInitial ? checklist.student.middleInitial + '. ' : '' %><%= checklist.student.lastName %><%= checklist.student.suffix ? ', ' + checklist.student.suffix : '' %></h3>
                            <p><%= checklist.student.username %></p>
                            <p><%= checklist.student.studentType %> Student</p>
                        </div>
                    </div>
                    <% }} %>
                </div>

                <div class="pendingStudyplan">
                    <% if (studyplans.length > 0) {%>
                    <h2>Pending Study Plan Approval</h2>
                    <% for (let studyplan of studyplans) {%>
                        <div class="dashboardInfo clickable" onclick="submitData(<%= studyplan.student.username %>, '/dashboard/studyplan/view')">
                            <div class="profilePicCompact" data-initials-view-compact='<%= studyplan.student.firstName.substring(0,1) + studyplan.student.lastName.substring(0,1) %>'></div>
                            <div class="rightPerson">
                                <h3><%= studyplan.student.firstName %> <%= studyplan.student.middleInitial ? studyplan.student.middleInitial + '. ' : '' %><%= studyplan.student.lastName %><%= studyplan.student.suffix ? ', ' + studyplan.student.suffix : '' %></h3>
                                <p><%= studyplan.student.username %></p>
                                <p><%= studyplan.student.studentType %> Student</p>
                            </div>
                        </div>
                    <% }} %>
                </div>
    
            </div>
    
            <div class="right_content">
                <h1>Tools</h1>
                <a href="/dashboard/checklist" class="toolButton clickable">
                        <img src="/img/checklist.svg" alt="Checklist Icon" class="icon" class="icon toolIcon">
                        Subject Checklist
                </a>
                <a href="/dashboard/studyplan/" class="toolButton clickable">
                        <img src="/img/study_plan.svg" alt="Study Plan Icon" class="icon" class="icon toolIcon">
                        Study Plan
                </a>
                <a href="/dashboard/accounts" class="toolButton clickable">
                        <img src="/img/student_accounts.svg" alt="Student Accounts Icon" class="icon" class="icon toolIcon">
                        Student Accounts
                </a>
                <a href="/dashboard/subjects/" class="toolButton clickable">
                        <img src="/img/subjects.svg" alt="Subjects Icon" class="icon" class="icon toolIcon">
                        Subjects
                </a>
                <a href="/dashboard/curriculum/" class="toolButton clickable">
                        <img src="/img/curriculum.svg" alt="Curriculum Icon" class="icon" class="icon toolIcon">
                        Curriculum
                </a>
            </div>
        </div>
    </main>
    
    <script src="/js/f-dashboard.js"></script>
    <script src="/js/functionLibrary.js"></script>
</body>
</html>